# npm i -g is-this-ci complains about missing cli.js
and suggests npm run build

But installations from npm repository should be self contained.

# chats response
Added publish-time safeguards so global installs from the registry are self‑contained and don’t miss dist/cli.js.

Changes:

package.json now has files: ["bin","dist"] so the tarball always includes the CLI wrapper and compiled output. package.json
Added prepack: "npm run build" to ensure dist exists at publish time. package.json
New ATDD expectations for the publish files list and prepack build. tests/acceptance/cli-install.spec.ts, tests/dsl/ci-report.dsl.ts
Tests: npm run test

Next steps:

Re-publish the package (prepack will generate dist), then try npm i -g is-this-ci again.
If you also want README.md/LICENSE explicitly included in the published files list, I can add them.
3 files changed
+31
-0
Undo

Review
package.json
+5
-0
cli-install.spec.ts
+2
-0
ci-report.dsl.ts
+24
-0

# include README and LICENSE explicitely
Added README.md and LICENSE to the publish allowlist so they are explicitly included in the npm package. package.json

Tests: npm run test

If you want, I can also add CHANGELOG.md (once it exists) to the files list.

1 file changed
Undo

Review
package.json
+3
-1
